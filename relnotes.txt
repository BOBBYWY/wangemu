============================================================================
		   Wang 2200 emulator release notes, v2.2-pre
				January 5, 2016
============================================================================


---- What is It? ----

This emulates a Wang 2200 system with a choice of three CPU architectures:

    * 2200B CPU  (first generation 2200, with a somewhat limited command set)
    * 2200T CPU  (the highest end of the first generation 2200's)
    * 2200VP CPU (2nd generation 2200 CPU architecture)

and a number of periperhals:

    * 6312 (64x16) and 7011 (80x24) CRT controllers
    * 6367 keyboard controller
    * either dumb or intelligent disk controller, capable of modeling any
      2270 floppy disk, 2260 hard disk, and 2280 large hard disk subsystems
    * configurable printer controller

The emulator is primarily written under Windows 7, but it should also run
under Windows Vista, Windows 8, and Windows 10 as well.  This emulator
does not run under Windows XP.

Due to the contribution of Paul Heller, the emulator now runs natively on Mac
OS X (10.4.2 at least) as well.  Starting with version 2.1, the OSX version
is distributed as a universal binary.

The emulator very well might run on Linux via Wine, but it hasn't been tested.


---- User-visible Changes ----

*) (M)VP systems can be configured to have 128 KB, 256 KB, or 512 KB,
   in addition to the previously supported 32 KB and 64 KB.  VP OS's
   can't make use of any memory above 64 KB, though.

*) previously, printing HEX(07) produced a default bell-like sound.
   now the emulator emits a sound very much like a real Wang terminal.

*) added emulation of a 2236DE terminal, although it isn't exposed yet,
   pending addition of 2236MUXD terminal mux emulation.

---- Bugs Fixed in this Release ----

*) Wang disk controllers supported "hog mode", where a given CPU could
   lock a disk drive for exclusive use, mostly to ensure atomic r/w
   behavior.  Wangemu doesn't emulate multiple systems, so there is no
   need to emulate a disk mux, but there is one facet which was missing.
   One method of triggering hog mode was to address the drive with the
   high bit of the address set, eg /310 would become /390.  So now the
   emulator ignores the most significant I/O address bit when doing
   address decode, but no other aspect of hog mode is emulated.

*) Some disk controllers supported more advanced commands than just the
   basic read sector, write sector, verify sector.  In fact, a few of
   them were implemented for "intelligent" disk controller mode.  Recently
   unearthed internal Wang documentation showed that the VERIFY_SECTORS
   command response contained a three byte sector address, not two bytes,
   as was previously emulated.  However, I've had a hard time triggering
   BASIC to actually use this feature, so it is really not yet tested.

*) If the disk controller receives a channel command which is either not
   implemented or is unknown, a warning dialog will appear stating as much,
   but a given bad command byte will only trigger the warning once, to
   keep from becoming intrusive.  Also, in accordance with the Wang internal
   documentation, a bad command byte is echoed back with all bits inverted
   so that the microcode can detect it and abort the command.

*) The disk controller would assert if it received an unexpected value for
   the first byte of the command sequence.  Because GIO programs can send
   anything at all, the assert was removed and the other values get mapped
   to assume a VP or MVP host if the first byte isn't 0x00.

*) the "Disk/New Disk..." disk factory allowed specifying DS-112, DS-140,
   or DS-224 disk drive types.  These attempted to create disks with 65536
   sectors/track, but this would cause an assertion, as 65535 is the maximum
   sector address which can be specified with a 16b number.

*) attempting to configuring a VP with 16 KB or 48 KB of RAM would trigger
   an assertion.  Now those sizes are disallowed.


---- Minor Tweaks and Implementation Changes ----

*) compiled with the latest wxWidgets library release, 3.0.2

*) fixed a typo in errtable.cpp for error 73;
   it should read "SAVE DCF" instead of "SAVE SCF"

*) get rid of unnecessary wx-isms; use modern c++11 features when it helps


---- Known Bugs ----

*) In the 2200T CPU mode, the real 2200T has a dummy microinstruction
   cycle that performs refresh.  This isn't modelled in the emulator,
   so the emulator is about 3% faster than realtime.

